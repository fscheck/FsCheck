<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Model-based Testing
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="FsCheck is a tool for testing .NET programs automatically using randomly generated test cases."/>
    <meta name="author" content="Kurt Schelfthout and contributors"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/FsCheck/content/style.css" />
    <script type="text/javascript" src="/FsCheck/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="https://github.com/fscheck/FsCheck/fork">Fork me on GitHub</a></li>
        </ul>
        <h3 class="muted"><a href="/FsCheck/index.html">FsCheck</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Model-based-Testing" class="anchor" href="#Model-based-Testing">Model-based Testing</a></h1>
<p>FsCheck also allows you to test objects, which usually encapsulate internal
state through a set of methods. FsCheck, through small extension,
allows you to do model-based specification of a class under test. Consider the following class,
with an artificial bug in it:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="rt">Counter</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span>
  <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="mv">n</span> <span class="o">=</span> <span class="n">0</span>
  <span class="k">member</span> <span class="id">__</span><span class="pn">.</span><span class="fn">Inc</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="mv">n</span> <span class="k">&lt;-</span> <span onmouseout="hideTip(event, 'fs4', 7)" onmouseover="showTip(event, 'fs4', 7)" class="mv">n</span> <span class="o">+</span> <span class="n">1</span>
  <span class="k">member</span> <span onmouseout="hideTip(event, 'fs5', 8)" onmouseover="showTip(event, 'fs5', 8)" class="id">__</span><span class="pn">.</span><span class="fn">Dec</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span class="k">if</span> <span onmouseout="hideTip(event, 'fs4', 9)" onmouseover="showTip(event, 'fs4', 9)" class="mv">n</span> <span class="o">&gt;</span> <span class="n">2</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs4', 10)" onmouseover="showTip(event, 'fs4', 10)" class="mv">n</span> <span class="k">&lt;-</span> <span onmouseout="hideTip(event, 'fs4', 11)" onmouseover="showTip(event, 'fs4', 11)" class="mv">n</span> <span class="o">-</span> <span class="n">2</span> <span class="k">else</span> <span onmouseout="hideTip(event, 'fs4', 12)" onmouseover="showTip(event, 'fs4', 12)" class="mv">n</span> <span class="k">&lt;-</span> <span onmouseout="hideTip(event, 'fs4', 13)" onmouseover="showTip(event, 'fs4', 13)" class="mv">n</span> <span class="o">-</span> <span class="n">1</span>
  <span class="k">member</span> <span onmouseout="hideTip(event, 'fs5', 14)" onmouseover="showTip(event, 'fs5', 14)" class="id">__</span><span class="pn">.</span><span class="prop">Get</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 15)" onmouseover="showTip(event, 'fs4', 15)" class="mv">n</span>
  <span class="k">member</span> <span onmouseout="hideTip(event, 'fs5', 16)" onmouseover="showTip(event, 'fs5', 16)" class="id">__</span><span class="pn">.</span><span class="fn">Reset</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 17)" onmouseover="showTip(event, 'fs4', 17)" class="mv">n</span> <span class="k">&lt;-</span> <span class="n">0</span>
  <span class="k">override</span> <span onmouseout="hideTip(event, 'fs5', 18)" onmouseover="showTip(event, 'fs5', 18)" class="id">__</span><span class="pn">.</span><span class="fn">ToString</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 19)" onmouseover="showTip(event, 'fs6', 19)" class="fn">sprintf</span> <span class="s">&quot;Counter=</span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs4', 20)" onmouseover="showTip(event, 'fs4', 20)" class="mv">n</span>
</code></pre></td>
</tr>
</table>
<p>We'll elide the class definition in C#, it's very similar.</p>
<p>As a model to test this class we can use an int value which is an abstraction of the object's internal state. The
idea is that each operation on the class (in this case, Inc and Dec) affects both the model and the actual object, and
after each such operation, the model and the actual instance should still be equivalent.</p>
<p>With this idea in mind, you can write a specification of the Counter class using an int model as follows (full example
in C# below):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs7', 21)" onmouseover="showTip(event, 'fs7', 21)" class="id">spec</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs8', 22)" onmouseover="showTip(event, 'fs8', 22)" class="id">inc</span> <span class="o">=</span> <span class="pn">{</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs9', 23)" onmouseover="showTip(event, 'fs9', 23)" class="rt">Command</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs3', 24)" onmouseover="showTip(event, 'fs3', 24)" class="rt">Counter</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs10', 25)" onmouseover="showTip(event, 'fs10', 25)" class="vt">int</span><span class="pn">&gt;</span><span class="pn">(</span><span class="pn">)</span> <span class="k">with</span>
                    <span class="k">override</span> <span class="id">__</span><span class="pn">.</span><span class="fn">RunActual</span> <span onmouseout="hideTip(event, 'fs11', 26)" onmouseover="showTip(event, 'fs11', 26)" class="id">counter</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 27)" onmouseover="showTip(event, 'fs11', 27)" class="fn">counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 28)" onmouseover="showTip(event, 'fs12', 28)" class="id">Inc</span><span class="pn">(</span><span class="pn">)</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs11', 29)" onmouseover="showTip(event, 'fs11', 29)" class="id">counter</span>
                    <span class="k">override</span> <span onmouseout="hideTip(event, 'fs13', 30)" onmouseover="showTip(event, 'fs13', 30)" class="id">__</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 31)" onmouseover="showTip(event, 'fs14', 31)" class="fn">RunModel</span> <span onmouseout="hideTip(event, 'fs15', 32)" onmouseover="showTip(event, 'fs15', 32)" class="id">m</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 33)" onmouseover="showTip(event, 'fs15', 33)" class="id">m</span> <span class="o">+</span> <span class="n">1</span>
                    <span class="k">override</span> <span onmouseout="hideTip(event, 'fs13', 34)" onmouseover="showTip(event, 'fs13', 34)" class="id">__</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 35)" onmouseover="showTip(event, 'fs16', 35)" class="fn">Post</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 36)" onmouseover="showTip(event, 'fs11', 36)" class="id">counter</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs15', 37)" onmouseover="showTip(event, 'fs15', 37)" class="id">m</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 38)" onmouseover="showTip(event, 'fs11', 38)" class="id">counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 39)" onmouseover="showTip(event, 'fs17', 39)" class="id">Get</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 40)" onmouseover="showTip(event, 'fs15', 40)" class="id">m</span> <span class="o">|@</span> <span onmouseout="hideTip(event, 'fs6', 41)" onmouseover="showTip(event, 'fs6', 41)" class="fn">sprintf</span> <span class="s">&quot;model: </span><span class="pf">%i</span><span class="s"> &lt;&gt; </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs15', 42)" onmouseover="showTip(event, 'fs15', 42)" class="id">m</span> <span onmouseout="hideTip(event, 'fs11', 43)" onmouseover="showTip(event, 'fs11', 43)" class="id">counter</span>
                    <span class="k">override</span> <span onmouseout="hideTip(event, 'fs13', 44)" onmouseover="showTip(event, 'fs13', 44)" class="id">__</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 45)" onmouseover="showTip(event, 'fs18', 45)" class="fn">ToString</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span class="s">&quot;inc&quot;</span> <span class="pn">}</span>
                           
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 46)" onmouseover="showTip(event, 'fs19', 46)" class="id">dec</span> <span class="o">=</span> <span class="pn">{</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs9', 47)" onmouseover="showTip(event, 'fs9', 47)" class="rt">Command</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs3', 48)" onmouseover="showTip(event, 'fs3', 48)" class="rt">Counter</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs10', 49)" onmouseover="showTip(event, 'fs10', 49)" class="vt">int</span><span class="pn">&gt;</span><span class="pn">(</span><span class="pn">)</span> <span class="k">with</span>
                    <span class="k">override</span> <span class="id">__</span><span class="pn">.</span><span class="fn">RunActual</span> <span onmouseout="hideTip(event, 'fs11', 50)" onmouseover="showTip(event, 'fs11', 50)" class="id">counter</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 51)" onmouseover="showTip(event, 'fs11', 51)" class="fn">counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs20', 52)" onmouseover="showTip(event, 'fs20', 52)" class="id">Dec</span><span class="pn">(</span><span class="pn">)</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs11', 53)" onmouseover="showTip(event, 'fs11', 53)" class="id">counter</span>
                    <span class="k">override</span> <span onmouseout="hideTip(event, 'fs13', 54)" onmouseover="showTip(event, 'fs13', 54)" class="id">__</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 55)" onmouseover="showTip(event, 'fs14', 55)" class="fn">RunModel</span> <span onmouseout="hideTip(event, 'fs15', 56)" onmouseover="showTip(event, 'fs15', 56)" class="id">m</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 57)" onmouseover="showTip(event, 'fs15', 57)" class="id">m</span> <span class="o">-</span> <span class="n">1</span>
                    <span class="k">override</span> <span onmouseout="hideTip(event, 'fs13', 58)" onmouseover="showTip(event, 'fs13', 58)" class="id">__</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 59)" onmouseover="showTip(event, 'fs16', 59)" class="fn">Post</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 60)" onmouseover="showTip(event, 'fs11', 60)" class="id">counter</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs15', 61)" onmouseover="showTip(event, 'fs15', 61)" class="id">m</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 62)" onmouseover="showTip(event, 'fs11', 62)" class="id">counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 63)" onmouseover="showTip(event, 'fs17', 63)" class="id">Get</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 64)" onmouseover="showTip(event, 'fs15', 64)" class="id">m</span> <span class="o">|@</span> <span onmouseout="hideTip(event, 'fs6', 65)" onmouseover="showTip(event, 'fs6', 65)" class="fn">sprintf</span> <span class="s">&quot;model: </span><span class="pf">%i</span><span class="s"> &lt;&gt; </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs15', 66)" onmouseover="showTip(event, 'fs15', 66)" class="id">m</span> <span onmouseout="hideTip(event, 'fs11', 67)" onmouseover="showTip(event, 'fs11', 67)" class="id">counter</span>
                    <span class="k">override</span> <span onmouseout="hideTip(event, 'fs13', 68)" onmouseover="showTip(event, 'fs13', 68)" class="id">__</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 69)" onmouseover="showTip(event, 'fs18', 69)" class="fn">ToString</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span class="s">&quot;dec&quot;</span> <span class="pn">}</span>
  
  <span class="pn">{</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs21', 70)" onmouseover="showTip(event, 'fs21', 70)" class="if">ICommandGenerator</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs3', 71)" onmouseover="showTip(event, 'fs3', 71)" class="rt">Counter</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs10', 72)" onmouseover="showTip(event, 'fs10', 72)" class="vt">int</span><span class="pn">&gt;</span> <span class="k">with</span>
      <span class="k">member</span> <span class="id">__</span><span class="pn">.</span><span class="fn">InitialActual</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 73)" onmouseover="showTip(event, 'fs3', 73)" class="rt">Counter</span><span class="pn">(</span><span class="pn">)</span>
      <span class="k">member</span> <span onmouseout="hideTip(event, 'fs22', 74)" onmouseover="showTip(event, 'fs22', 74)" class="id">__</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 75)" onmouseover="showTip(event, 'fs23', 75)" class="fn">InitialModel</span> <span class="o">=</span> <span class="n">0</span>
      <span class="k">member</span> <span onmouseout="hideTip(event, 'fs22', 76)" onmouseover="showTip(event, 'fs22', 76)" class="id">__</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs24', 77)" onmouseover="showTip(event, 'fs24', 77)" class="fn">Next</span> <span onmouseout="hideTip(event, 'fs25', 78)" onmouseover="showTip(event, 'fs25', 78)" class="id">model</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 79)" onmouseover="showTip(event, 'fs26', 79)" class="m">Gen</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 80)" onmouseover="showTip(event, 'fs27', 80)" class="id">elements</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs8', 81)" onmouseover="showTip(event, 'fs8', 81)" class="id">inc</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs19', 82)" onmouseover="showTip(event, 'fs19', 82)" class="id">dec</span><span class="pn">]</span> <span class="pn">}</span>
</code></pre></td>
</tr>
</table>
<p>A specification is put together for FsCheck as an object that implementents <code>ICommandGenerator&lt;'typeUnderTest,'modelType&gt;</code>. It should return
an initial object and an initial model of that object; and it should return a generator of <code>Command</code> objects.</p>
<p>Each <code>Command</code> typically represents one method to call on the object under test, and describes what
happens to the model and the object when the command is executed. Also, it can assert preconditions that
need to hold before executing the command: FsCheck will not execute that command if the precondition does
not hold. It asserts postconditions that should hold after a command is executed: FsCheck
fails the test if a postcondition does not hold.</p>
<p>Preferably also override ToString in each command so that counterexamples can be printed.</p>
<p>A specification can be checked as follows:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs28', 83)" onmouseover="showTip(event, 'fs28', 83)" class="rt">Check</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 84)" onmouseover="showTip(event, 'fs29', 84)" class="id">Quick</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs9', 85)" onmouseover="showTip(event, 'fs9', 85)" class="m">Command</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 86)" onmouseover="showTip(event, 'fs30', 86)" class="id">toProperty</span> <span onmouseout="hideTip(event, 'fs7', 87)" onmouseover="showTip(event, 'fs7', 87)" class="id">spec</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Falsifiable, after 9 tests (6 shrinks) (StdGen (731001027,296521705)):
Label of failing property: model: 2 &lt;&gt; Counter=1
Original:
[inc; dec; inc; dec; inc; inc; dec; inc; inc; dec]
Shrunk:
[inc; inc; inc; dec]</code></pre></td></tr></table>
<p>Notice that not only has FsCheck found our 'bug', it has also produced the minimal sequence that leads to it.</p>
<p>Finally, in C#, all this looks as follows:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="csharp"><span class="k">public</span> <span class="k">class</span> CounterSpec <span class="o">:</span> ICommandGenerator&lt;Counter, <span class="k">int</span>&gt; {

    <span class="k">public</span> Gen&lt;Command&lt;Counter, <span class="k">int</span>&gt;<span class="o">&gt;</span> Next(<span class="k">int</span> <span class="k">value</span>) {
        <span class="k">return</span> Gen.Elements(<span class="k">new</span> Command&lt;Counter, <span class="k">int</span>&gt;[] { <span class="k">new</span> Inc(), <span class="k">new</span> Dec() });
    }

    <span class="k">public</span> Counter InitialActual { get { <span class="k">return</span> <span class="k">new</span> Counter(); } }

    <span class="k">public</span> <span class="k">int</span> InitialModel { get { <span class="k">return</span> <span class="n">0</span>; } }

    <span class="k">private</span> <span class="k">class</span> Inc <span class="o">:</span> Command&lt;Counter,<span class="k">int</span>&gt; {
        <span class="k">public</span> <span class="k">override</span> Counter RunActual(Counter c) {
            c.Inc();
            <span class="k">return</span> c;
        }

        <span class="k">public</span> <span class="k">override</span> <span class="k">int</span> RunModel(<span class="k">int</span> m) {
            <span class="k">return</span> m <span class="o">+</span> <span class="n">1</span>;
        }

        <span class="k">public</span> <span class="k">override</span> Property Post(Counter c, <span class="k">int</span> m) {
            <span class="k">return</span> (m <span class="o">=</span><span class="o">=</span> c.Get()).ToProperty();
        }

        <span class="k">public</span> <span class="k">override</span> <span class="k">string</span> ToString() {
            <span class="k">return</span> <span class="s">"inc"</span>;
        }
    }

    <span class="k">private</span> <span class="k">class</span> Dec <span class="o">:</span> Command&lt;Counter,<span class="k">int</span>&gt;{
        <span class="k">public</span> <span class="k">override</span> Counter RunActual(Counter c) {
            c.Dec();
            <span class="k">return</span> c;
        }

        <span class="k">public</span> <span class="k">override</span> <span class="k">int</span> RunModel(<span class="k">int</span> m) {
            <span class="k">return</span> m <span class="o">-</span> <span class="n">1</span>;
        }

        <span class="k">public</span> <span class="k">override</span> Property Post(Counter c, <span class="k">int</span> m) {
            <span class="k">return</span> (m <span class="o">=</span><span class="o">=</span> c.Get()).ToProperty();
        }

        <span class="k">public</span> <span class="k">override</span> <span class="k">string</span> ToString() {
            <span class="k">return</span> <span class="s">"dec"</span>;
        }
    }
}</code></pre></td></tr></table>
<p>And to run:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="csharp"><span class="k">new</span> CounterSpec()
    .ToProperty()
    .QuickCheck();</code></pre></td></tr></table>

<div class="tip" id="fs1">namespace FsCheck</div>
<div class="tip" id="fs2">namespace System</div>
<div class="tip" id="fs3">Multiple items<br />type Counter =<br />&#160;&#160;new : unit -&gt; Counter<br />&#160;&#160;member Dec : unit -&gt; unit<br />&#160;&#160;member Inc : unit -&gt; unit<br />&#160;&#160;member Reset : unit -&gt; unit<br />&#160;&#160;override ToString : unit -&gt; string<br />&#160;&#160;member Get : int<br /><br />--------------------<br />new : unit -&gt; Counter</div>
<div class="tip" id="fs4">val mutable n : int</div>
<div class="tip" id="fs5">val __ : Counter</div>
<div class="tip" id="fs6">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs7">val spec : ICommandGenerator&lt;Counter,int&gt;</div>
<div class="tip" id="fs8">val inc : Command&lt;Counter,int&gt;</div>
<div class="tip" id="fs9">Multiple items<br />module Command<br /><br />from FsCheck<br /><br />--------------------<br />type Command&lt;&#39;Actual,&#39;Model&gt; =<br />&#160;&#160;new : unit -&gt; Command&lt;&#39;Actual,&#39;Model&gt;<br />&#160;&#160;abstract member Post : &#39;Actual * &#39;Model -&gt; Property<br />&#160;&#160;abstract member Pre : &#39;Model -&gt; bool<br />&#160;&#160;abstract member RunActual : &#39;Actual -&gt; &#39;Actual<br />&#160;&#160;abstract member RunModel : &#39;Model -&gt; &#39;Model<br />&#160;&#160;override Post : &#39;Actual * &#39;Model -&gt; Property<br />&#160;&#160;override Pre : &#39;Model -&gt; bool<br /><br />--------------------<br />new : unit -&gt; Command&lt;&#39;Actual,&#39;Model&gt;</div>
<div class="tip" id="fs10">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />--------------------<br />type int = int32<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int</div>
<div class="tip" id="fs11">val counter : Counter</div>
<div class="tip" id="fs12">member Counter.Inc : unit -&gt; unit</div>
<div class="tip" id="fs13">val __ : Command&lt;Counter,int&gt;</div>
<div class="tip" id="fs14">abstract member Command.RunModel : &#39;Model -&gt; &#39;Model</div>
<div class="tip" id="fs15">val m : int</div>
<div class="tip" id="fs16">override Command.Post : &#39;Actual * &#39;Model -&gt; Property</div>
<div class="tip" id="fs17">property Counter.Get: int</div>
<div class="tip" id="fs18">Object.ToString() : string</div>
<div class="tip" id="fs19">val dec : Command&lt;Counter,int&gt;</div>
<div class="tip" id="fs20">member Counter.Dec : unit -&gt; unit</div>
<div class="tip" id="fs21">type ICommandGenerator&lt;&#39;Actual,&#39;Model&gt; =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Next : &#39;Model -&gt; Gen&lt;Command&lt;&#39;Actual,&#39;Model&gt;&gt;<br />&#160;&#160;&#160;&#160;abstract member InitialActual : &#39;Actual<br />&#160;&#160;&#160;&#160;abstract member InitialModel : &#39;Model<br />&#160;&#160;end</div>
<div class="tip" id="fs22">val __ : ICommandGenerator&lt;Counter,int&gt;</div>
<div class="tip" id="fs23">property ICommandGenerator.InitialModel: int</div>
<div class="tip" id="fs24">abstract member ICommandGenerator.Next : &#39;Model -&gt; Gen&lt;Command&lt;&#39;Actual,&#39;Model&gt;&gt;</div>
<div class="tip" id="fs25">val model : int</div>
<div class="tip" id="fs26">Multiple items<br />module Gen<br /><br />from FsCheck<br /><br />--------------------<br />type Gen&lt;&#39;a&gt; =<br />&#160;&#160;private | Gen of (int -&gt; StdGen -&gt; &#39;a)<br />&#160;&#160;&#160;&#160;interface IGen<br />&#160;&#160;&#160;&#160;member private Map : f:(&#39;a -&gt; &#39;b) -&gt; Gen&lt;&#39;b&gt;<br />&#160;&#160;&#160;&#160;static member ( &gt;&gt;= ) : m:Gen&lt;&#39;a1&gt; * k:(&#39;a1 -&gt; Gen&lt;&#39;a2&gt;) -&gt; Gen&lt;&#39;a2&gt;<br />&#160;&#160;&#160;&#160;static member ( &lt;!&gt; ) : f:(&#39;a1 -&gt; &#39;a2) * a:Gen&lt;&#39;a1&gt; -&gt; Gen&lt;&#39;a2&gt;<br />&#160;&#160;&#160;&#160;static member ( &lt;*&gt; ) : f:Gen&lt;(&#39;a1 -&gt; &#39;a2)&gt; * a:Gen&lt;&#39;a1&gt; -&gt; Gen&lt;&#39;a2&gt;</div>
<div class="tip" id="fs27">val elements : xs:seq&lt;&#39;a&gt; -&gt; Gen&lt;&#39;a&gt;</div>
<div class="tip" id="fs28">type Check =<br />&#160;&#160;static member All : config:Config -&gt; unit<br />&#160;&#160;static member All : config:Config * test:Type -&gt; unit<br />&#160;&#160;static member Method : config:Config * methodInfo:MethodInfo * ?target:obj -&gt; unit<br />&#160;&#160;static member One : config:Config * property:&#39;Testable -&gt; unit<br />&#160;&#160;static member One : name:string * config:Config * property:&#39;Testable -&gt; unit<br />&#160;&#160;static member Quick : property:&#39;Testable -&gt; unit<br />&#160;&#160;static member Quick : name:string * property:&#39;Testable -&gt; unit<br />&#160;&#160;static member QuickAll : unit -&gt; unit<br />&#160;&#160;static member QuickAll : test:Type -&gt; unit<br />&#160;&#160;static member QuickThrowOnFailure : property:&#39;Testable -&gt; unit<br />&#160;&#160;...</div>
<div class="tip" id="fs29">static member Check.Quick : property:&#39;Testable -&gt; unit<br />static member Check.Quick : name:string * property:&#39;Testable -&gt; unit</div>
<div class="tip" id="fs30">val toProperty : spec:ICommandGenerator&lt;&#39;Actual,&#39;Model&gt; -&gt; Property</div>

        </div>
        <div class="span3">
          <img src="/FsCheck/img/logo.png" alt="FsCheck logo - an inverted A, the mathematical symbol for forall." style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">FsCheck</li>
            <li><a href="/FsCheck/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/FsCheck">Get Library via NuGet</a></li>
            <li><a href="https://github.com/fscheck/FsCheck">Source Code on GitHub</a></li>
            <li><a href="https://github.com/fscheck/FsCheck/blob/master/License.txt">License</a></li>
            <li><a href="https://github.com/fscheck/FsCheck/blob/master/FsCheck Release Notes.md">Release Notes</a></li>
            <li><a href="/FsCheck/users.html">Who is using FsCheck?</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/FsCheck/QuickStart.html">Quick Start</a></li>
            <li><a href="/FsCheck/LearningResources.html">Learning Resources</a></li>

            <li class="nav-header">Documentation</li>
            <li>
              <a href="/FsCheck/Properties.html">Properties</a>
            </li>
            <li>
              <a href="/FsCheck/TestData.html">Generating test data</a>
            </li>
            <li>
              <a href="/FsCheck/StatefulTesting.html">Model-based testing</a>
            </li>
            <li>
              <a href="/FsCheck/RunningTests.html">Running tests</a>
            </li>
            <li>
              <a href="/FsCheck/TipsAndTricks.html">Tips and Tricks</a>
            </li>
              <li>
                  <a href="/FsCheck/StatefulTestingNew.html">Model-based testing vNext (Experimental)</a>
              </li>

            <li><a href="/FsCheck/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="https://github.com/fscheck/FsCheck">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/>
    </a>
  </body>
  </html>
